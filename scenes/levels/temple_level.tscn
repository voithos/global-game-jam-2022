[gd_scene load_steps=16 format=2]

[ext_resource path="res://scenes/tile_set_temple_16.tres" type="TileSet" id=1]
[ext_resource path="res://scenes/phase_tile_map.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/player.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/level_logic.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/NPCs/PenguinProgrammer_small.png" type="Texture" id=5]
[ext_resource path="res://scenes/crystal.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/dialog_trigger.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/background.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/dialog_trigger.gd" type="Script" id=9]
[ext_resource path="res://assets/props/Crystal no shadow.png" type="Texture" id=10]
[ext_resource path="res://assets/props/whitescreen.png" type="Texture" id=11]

[sub_resource type="ParticlesMaterial" id=1]
emission_shape = 2
emission_box_extents = Vector3( 50, 1, 1 )
flag_disable_z = true
gravity = Vector3( 0, -98, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 25, 133 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 14.5, 15 )

[sub_resource type="ParticlesMaterial" id=3]
emission_shape = 2
emission_box_extents = Vector3( 50, 1, 1 )
flag_disable_z = true
gravity = Vector3( 0, -98, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0

[node name="Node2D" type="Node2D"]

[node name="background" parent="." instance=ExtResource( 8 )]

[node name="PhaseTileMap" parent="." instance=ExtResource( 2 )]
tile_data = PoolIntArray( -327689, 4, 0, -131089, 0, 8, -131088, 0, 10, -131087, 0, 262144, -131086, 0, 11, -65554, 0, 196609, -65553, 0, 196613, -65552, 0, 131077, -65551, 0, 131081, -65550, 0, 65542, -65549, 0, 10, -65548, 0, 10, -65547, 0, 10, -65546, 0, 11, -16, 0, 196616, -15, 0, 262147, -14, 0, 196617, -13, 0, 262147, -12, 0, 131077, -11, 0, 131081, -10, 0, 65542, -9, 0, 10, -8, 0, 11, 65524, 0, 196616, 65525, 0, 131077, 65526, 0, 131081, 65527, 0, 131081, 65528, 0, 65542, 65529, 0, 262145, 65530, 0, 262144, 65531, 0, 11, 131061, 0, 196616, 131062, 0, 196617, 131063, 0, 131077, 131064, 0, 131081, 131065, 0, 131081, 131066, 0, 131081, 131067, 0, 65542, 131068, 0, 262144, 131069, 0, 262144, 131070, 0, 10, 131071, 0, 10, 65536, 0, 10, 65537, 0, 6, 65538, 0, 196610, 65539, 0, 196611, 196599, 0, 196616, 196600, 0, 131077, 196601, 0, 131081, 196602, 0, 131081, 196603, 0, 131081, 196604, 0, 131081, 196605, 0, 131081, 196606, 0, 131081, 196607, 0, 131081, 131072, 0, 131078, 131073, 0, 196619, 262136, 0, 196616, 262137, 0, 262147, 262138, 0, 131077, 262139, 0, 131081, 262140, 0, 131081, 262141, 0, 131081, 262142, 0, 131078, 262143, 0, 262146, 196608, 0, 196619, 327674, 0, 196616, 327675, 0, 262146, 327676, 0, 262147, 327677, 0, 196617, 327678, 0, 196619 )

[node name="level_logic" parent="." instance=ExtResource( 4 )]

[node name="PhaseTileMap4" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1310745, 0, 8, -1310744, 0, 10, -1310743, 0, 11, -1310738, 10, 0, -1310737, 0, 10, -1310736, 0, 10, -1310735, 0, 10, -1310734, 0, 10, -1310733, 0, 10, -1310732, 0, 10, -1310731, 0, 10, -1310730, 0, 10, -1310729, 10, 3, -1245209, 0, 65544, -1245208, 0, 131081, -1245207, 0, 131083, -1245203, 10, 0, -1245202, 10, 1, -1245201, 0, 131081, -1245200, 0, 131081, -1245199, 0, 131081, -1245198, 0, 131081, -1245197, 0, 131081, -1245196, 0, 131081, -1245195, 0, 131081, -1245194, 0, 131081, -1245193, 10, 2, -1245192, 0, 10, -1245191, 0, 10, -1245190, 10, 3, -1179674, 10, 0, -1179673, 10, 1, -1179672, 0, 131081, -1179671, 0, 65542, -1179670, 0, 10, -1179669, 0, 10, -1179668, 0, 10, -1179667, 10, 1, -1179666, 10, 65538, -1179665, 0, 196617, -1179664, 0, 196617, -1179663, 0, 196617, -1179662, 0, 196617, -1179661, 0, 196617, -1179660, 10, 65537, -1179659, 0, 131081, -1179658, 0, 131081, -1179657, 0, 131081, -1179656, 0, 131081, -1179655, 0, 131081, -1179654, 10, 2, -1179653, 10, 3, -1114138, 0, 65544, -1114137, 0, 131081, -1114136, 0, 131081, -1114135, 0, 131081, -1114134, 0, 131081, -1114133, 0, 131081, -1114132, 0, 131081, -1114131, 10, 65538, -1114130, 10, 65539, -1114124, 10, 65536, -1114123, 0, 196617, -1114122, 10, 65537, -1114121, 0, 131081, -1114120, 0, 131081, -1114119, 0, 131081, -1114118, 0, 131081, -1114117, 10, 2, -1114116, 0, 10, -1114115, 0, 10, -1114114, 0, 6, -1114113, 0, 196611, -1048603, 10, 0, -1048602, 10, 1, -1048601, 0, 131081, -1048600, 0, 131081, -1048599, 0, 131081, -1048598, 0, 131081, -1048597, 0, 131081, -1048596, 10, 65538, -1048595, 10, 65539, -1048586, 10, 65536, -1048585, 0, 196617, -1048584, 0, 196617, -1048583, 0, 196617, -1048582, 0, 196617, -1048581, 0, 196617, -1048580, 0, 196617, -1048579, 0, 196617, -1048578, 10, 65539, -983069, 10, 0, -983068, 0, 10, -983067, 10, 1, -983066, 0, 131081, -983065, 0, 131081, -983064, 0, 131081, -983063, 0, 131081, -983062, 0, 131081, -983061, 0, 131081, -983060, 0, 131083, -917535, 10, 0, -917534, 0, 10, -917533, 10, 1, -917532, 0, 131081, -917531, 0, 131081, -917530, 0, 131081, -917529, 0, 131081, -917528, 0, 131081, -917527, 0, 131081, -917526, 0, 131081, -917525, 10, 65538, -917524, 10, 65539, -852001, 10, 0, -852000, 0, 10, -851999, 10, 1, -851998, 0, 131081, -851997, 0, 131081, -851996, 0, 131081, -851995, 0, 131081, -851994, 0, 131081, -851993, 0, 131081, -851992, 0, 131081, -851991, 0, 131081, -851990, 10, 65538, -851989, 10, 65539, -786471, 0, 196609, -786470, 0, 196610, -786469, 0, 196610, -786468, 0, 196610, -786467, 0, 196610, -786466, 0, 196610, -786465, 0, 196613, -786464, 0, 196617, -786463, 10, 65537, -786462, 0, 131081, -786461, 0, 131081, -786460, 0, 131081, -786459, 0, 131081, -786458, 0, 131081, -786457, 0, 131081, -786456, 0, 131081, -786455, 0, 131081, -786454, 0, 131083, -720927, 10, 65536, -720926, 0, 196617, -720925, 0, 196617, -720924, 10, 65537, -720923, 0, 131081, -720922, 0, 131081, -720921, 0, 131081, -720920, 0, 131081, -720919, 0, 131081, -720918, 0, 131083, -655388, 10, 65536, -655387, 0, 196617, -655386, 10, 65537, -655385, 0, 131081, -655384, 0, 131081, -655383, 10, 65538, -655382, 10, 65539, -589850, 10, 65536, -589849, 10, 65537, -589848, 0, 131081, -589847, 0, 131083, -524313, 0, 65544, -524312, 0, 131081, -524311, 0, 131083, -458777, 0, 65544, -458776, 0, 131081, -458775, 0, 131083, -393241, 0, 65544, -393240, 0, 131081, -393239, 0, 131083, -327705, 0, 65544, -327704, 0, 131081, -327703, 0, 131083, -262169, 0, 65544, -262168, 0, 131081, -262167, 0, 131083, -196633, 0, 196616, -196632, 0, 196617, -196631, 0, 196619 )

[node name="PhaseTileMap5" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1703953, 0, 8, -1703952, 0, 10, -1703951, 0, 10, -1703950, 0, 11, -1638422, 0, 8, -1638421, 0, 10, -1638420, 10, 3, -1638417, 0, 65544, -1638416, 0, 131081, -1638415, 0, 131081, -1638414, 0, 131083, -1638406, 10, 0, -1638405, 0, 10, -1638404, 0, 11, -1572886, 0, 65544, -1572885, 0, 131081, -1572884, 10, 2, -1572883, 0, 10, -1572882, 0, 10, -1572881, 0, 65541, -1572880, 0, 131081, -1572879, 0, 131081, -1572878, 0, 65542, -1572877, 0, 10, -1572876, 0, 10, -1572875, 0, 10, -1572874, 0, 10, -1572873, 0, 10, -1572872, 0, 10, -1572871, 0, 10, -1572870, 10, 1, -1572869, 10, 65538, -1572868, 0, 196619, -1507350, 0, 196616, -1507349, 0, 196617, -1507348, 0, 196617, -1507347, 0, 196617, -1507346, 0, 196617, -1507345, 0, 196617, -1507344, 0, 196617, -1507343, 0, 196617, -1507342, 0, 196617, -1507341, 0, 196617, -1507340, 10, 65537, -1507339, 0, 131081, -1507338, 0, 131081, -1507337, 0, 131081, -1507336, 0, 131081, -1507335, 10, 65538, -1507334, 0, 196617, -1507333, 10, 65539, -1441804, 10, 65536, -1441803, 0, 196617, -1441802, 0, 196617, -1441801, 0, 196617, -1441800, 0, 196617, -1441799, 10, 65539 )

[node name="PhaseTileMap6" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1638432, 0, 196609, -1638431, 0, 196610, -1638430, 0, 5, -1638429, 0, 10, -1638428, 0, 10, -1638427, 0, 10, -1638426, 0, 11, -1572894, 10, 65536, -1572893, 0, 196617, -1572892, 0, 196617, -1572891, 0, 196617, -1572890, 0, 131079, -1507354, 0, 131072 )

[node name="PhaseTileMap9" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1179694, 0, 0, -1114158, 0, 65540, -1114157, 0, 10, -1114156, 0, 10, -1114155, 0, 10, -1114154, 0, 10, -1114153, 0, 11, -1048623, 0, 8, -1048622, 0, 65541, -1048621, 0, 131081, -1048620, 0, 131081, -1048619, 10, 65538, -1048618, 0, 196617, -1048617, 10, 65539, -983087, 10, 65536, -983086, 0, 196617, -983085, 0, 196617, -983084, 0, 196617, -983083, 10, 65539 )

[node name="PhaseTileMap10" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1638447, 10, 0, -1638446, 0, 10, -1638445, 0, 10, -1638444, 10, 3, -1572913, 0, 8, -1572912, 0, 10, -1572911, 10, 1, -1572910, 0, 131081, -1572909, 0, 131081, -1572908, 10, 2, -1572907, 0, 11, -1507377, 0, 196616, -1507376, 0, 196617, -1507375, 10, 65537, -1507374, 0, 131081, -1507373, 0, 131081, -1507372, 10, 65538, -1507371, 10, 65539, -1441839, 10, 65536, -1441838, 0, 196617, -1441837, 0, 196617, -1441836, 10, 65539 )

[node name="PhaseTileMap11" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -1966125, 0, 0, -1900589, 0, 131072 )

[node name="PhaseTileMap12" parent="." instance=ExtResource( 2 )]
tile_set = ExtResource( 1 )
tile_data = PoolIntArray( -262180, 0, 196609, -262179, 0, 5, -262178, 10, 3, -196643, 0, 65544, -196642, 0, 131083, -131107, 0, 65544, -131106, 10, 2, -131105, 10, 3, -65571, 0, 65544, -65570, 0, 131081, -65569, 10, 2, -65568, 10, 3, -35, 0, 65544, -34, 0, 131081, -33, 0, 131081, -32, 10, 2, -31, 10, 3, 65501, 0, 65544, 65502, 0, 131081, 65503, 0, 131081, 65504, 0, 131081, 65505, 10, 2, 65506, 0, 10, 65507, 10, 3, 131037, 0, 65544, 131038, 0, 131081, 131039, 0, 131081, 131040, 0, 131081, 131041, 0, 131081, 131042, 0, 131081, 131043, 10, 2, 131044, 0, 10, 131045, 0, 10, 131046, 0, 11, 196573, 0, 65544, 196574, 0, 131081, 196575, 0, 131081, 196576, 0, 131081, 196577, 0, 131081, 196578, 0, 131081, 196579, 0, 131081, 196580, 0, 131081, 196581, 10, 65538, 196582, 10, 65539, 262109, 10, 65536, 262110, 10, 65537, 262111, 0, 131081, 262112, 0, 131081, 262113, 0, 131081, 262114, 0, 131081, 262115, 0, 131081, 262116, 10, 65538, 262117, 10, 65539, 327646, 10, 65536, 327647, 0, 196617, 327648, 0, 196617, 327649, 0, 196617, 327650, 0, 196617, 327651, 0, 196617, 327652, 10, 65539 )

[node name="player" parent="." instance=ExtResource( 3 )]
facing_right = false

[node name="Particles2D" type="Particles2D" parent="."]
position = Vector2( -238, -43 )
amount = 50
lifetime = 4.0
process_material = SubResource( 1 )

[node name="Crystal" parent="." instance=ExtResource( 6 )]
visible = false
position = Vector2( -240, -498 )

[node name="dialog_trigger3" parent="." instance=ExtResource( 7 )]
position = Vector2( -24, -307 )
dialog = "ProgrammerPenguin"

[node name="Sprite" type="Sprite" parent="dialog_trigger3"]
position = Vector2( 0, 15 )
texture = ExtResource( 5 )

[node name="dialog_trigger" type="Node2D" parent="."]
position = Vector2( -240, -67 )
script = ExtResource( 9 )
dialog = "ElderSmalltalk"

[node name="Area2D" type="Area2D" parent="dialog_trigger"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="dialog_trigger/Area2D"]
position = Vector2( 0, 32 )
shape = SubResource( 2 )

[node name="dialog_trigger2" type="Node2D" parent="."]
position = Vector2( -240, -447 )
script = ExtResource( 9 )
dialog = "EndingSequence"

[node name="Area2D" type="Area2D" parent="dialog_trigger2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="dialog_trigger2/Area2D"]
position = Vector2( 0, 3 )
shape = SubResource( 4 )

[node name="crystal_sprite" type="Sprite" parent="."]
position = Vector2( -240, -650 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 10 )

[node name="particles_temple" type="Particles2D" parent="."]
position = Vector2( -239, -433 )
emitting = false
amount = 50
lifetime = 4.0
local_coords = false
process_material = SubResource( 3 )

[node name="fadeout" type="Sprite" parent="."]
visible = false
position = Vector2( -61.5, -149.5 )
scale = Vector2( 2.00625, 2.20833 )
z_index = 4
texture = ExtResource( 11 )

[connection signal="body_entered" from="dialog_trigger/Area2D" to="dialog_trigger" method="_on_Area2D_body_entered"]
[connection signal="body_exited" from="dialog_trigger/Area2D" to="dialog_trigger" method="_on_Area2D_body_exited"]
[connection signal="body_entered" from="dialog_trigger2/Area2D" to="dialog_trigger2" method="_on_Area2D_body_entered"]
[connection signal="body_exited" from="dialog_trigger2/Area2D" to="dialog_trigger2" method="_on_Area2D_body_exited"]
